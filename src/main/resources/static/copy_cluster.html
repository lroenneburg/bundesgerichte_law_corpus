<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>BA Thesis - Lennart Rönneburg</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- CSS for this template -->
  <link href="css/simple-sidebar.css" rel="stylesheet">

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  
  <!-- D3JS -->
  <script src="https://d3js.org/d3.v4.min.js"></script>



</head>

<body>

  <div class="d-flex" id="wrapper">

    <!-- Sidebar -->
    <div class="bg-light border-right" id="sidebar-wrapper">
      <div class="sidebar-heading">
        <div class="sidebar-heading-logo"></div>
        <div class="sidebar-heading-name">Universität Hamburg</div>
      </div>
      <div class="list-group list-group-flush">
        <a href="#" class="list-group-item list-group-item-action bg-light">Cluster</a>
        <a href="#" class="list-group-item list-group-item-action bg-light">Element 2</a>
        <a href="#" class="list-group-item list-group-item-action bg-light">Information 3</a>
        <a href="#" class="list-group-item list-group-item-action bg-light">Element 4</a>
      </div>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">

      <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom" id="header">
        <button class="btn btn-primary" id="menu-toggle">Menü</button>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
            <!--
            <li class="nav-item active">
              <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            -->
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/lroenneburg/bundesgerichte_law_corpus" id="header-github-link"> <div class="github-logo"></div> <div style="padding-left: .3rem;">GitHub</div></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" id="header-thesis-link"><div class="pdf-logo"></div> <div style="padding-left: .3rem;">Thesis</div></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" id="header-about-link"><div class="about-logo"></div> <div style="padding-left: .3rem;">About</div></a>
            </li>
            <!--
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Dropdown
              </a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="#">Action</a>
                <a class="dropdown-item" href="#">Another action</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#">Something else here</a>
              </div>
            </li>
            -->
          </ul>
        </div>
      </nav>

      <div class="container-fluid">
          <div id="cluster_network"></div>
      </div>
    </div>
    <!-- /#page-content-wrapper -->

  </div>
  <!-- /#wrapper -->

  <!-- Menu Toggle Script -->
  <script>
    $("#menu-toggle").click(function(e) {
      e.preventDefault();
      $("#wrapper").toggleClass("toggled");
    });
  </script>

</body>

<script>
// set the dimensions and margins of the graph
var margin = {top: 10, right: 30, bottom: 30, left: 40},
  width = 1000 - margin.left - margin.right,
  height = 650 - margin.top - margin.bottom;

console.log("test")
// append the svg object to the body of the page
var svg = d3.select("#cluster_network")
.append("svg")
  .attr("width", width + margin.left + margin.right)
  .attr("height", height + margin.top + margin.bottom)
.append("g")
  .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

//d3.json("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/data_network.json", function( data) {
d3.json("graph_cluster_30.json", function( data) {

  // Initialize the links
  var link = svg.selectAll("line").data(data.edges).enter().append("line").style("stroke", "#aaa")

  // Initialize the nodes
  var node = svg.selectAll("circle").data(data.edges).enter().append("circle").attr("r", 20).style("fill", "#69b3a2")

  // Let's list the force we wanna apply on the network
  var simulation = d3.forceSimulation(data.nodes)                 // Force algorithm is applied to data.nodes
      .force("link", d3.forceLink()                               // This force provides links between nodes
            .id(function(d) { return d.id; })                     // This provide  the id of a node
            .links(data.edges)                                    // and this the list of links
      )
      .force("charge", d3.forceManyBody().strength(-400))         // This adds repulsion between nodes. Play with the -400 for the repulsion strength
      .force("center", d3.forceCenter(width / 2, height / 2))     // This force attracts nodes to the center of the svg area
      .on("end", ticked);

  // This function is run at each iteration of the force algorithm, updating the nodes position.
  function ticked() {
    link
        .attr("x1", function(d) { return d.source.x; })
        .attr("y1", function(d) { return d.source.y; })
        .attr("x2", function(d) { return d.target.x; })
        .attr("y2", function(d) { return d.target.y; });

    node
         .attr("cx", function (d) { return d.x + 6; })
         .attr("cy", function(d) { return d.y - 6; });
  }
  console.log("test_fast_end")

});
console.log("test_end")

</script>

</html>
